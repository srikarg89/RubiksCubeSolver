// 1 Look Oll:

alg1 = function(){
  algorithm("(R U2) (R2 F R F') U2 (R' F R F')");
}

alg2 = function(){
  algorithm("F (R U R' U') S (R U R' U') Fw'");
}

alg3 = function(){
  algorithm("Fw (R U R' U') Fw' U' F (R U R' U') F'");
}

alg4 = function(){
  algorithm("Fw (R U R' U') Fw' U F (R U R' U') F'");
}

alg5 = function(){
  algorithm("(Rw' U2) (R U R' U Rw)");
}

alg6 = function(){
  algorithm("(Rw U2) (R' U' R U' Rw')");
}

alg7 = function(){
  algorithm("	(Rw U R' U) (R U2 Rw')");
}

alg8 = function(){
  algorithm("(Rw' U' R U') (R' U2 Rw)");
}

alg9 = function(){
  algorithm("(R U R' U' R' F) (R2 U R' U' F')");
}

alg10 = function(){
  algorithm("(R U R' U) (R' F R F') (R U2 R')");
}

alg11 = function(){
  algorithm("Rw' (R2 U R' U R U2 R') U M'");
}

alg12 = function(){
  algorithm("(M U2) (R' U' R U') (R' U2 R) U M'");
}

alg13 = function(){
  algorithm("(Rw U' Rw' U' Rw U Rw' y' (R' U R)");
}

alg14 = function(){
  algorithm("(R' F) (R U R' F' R) y' (R U' R')");
}

alg15 = function(){
  algorithm("(Lw' U' Lw) (L' U' L U) (Lw' U Lw)");
}

alg16 = function(){
  algorithm("(Rw U Rw') (R U R' U') (Rw U' Rw')");
}

alg17 = function(){
  algorithm("(R U R' U) (R' F R F') U2 (R' F R F')");
}

alg18 = function(){
  algorithm("F (R U R' U) y' (R' U2) (R' F R F')");
}

alg19 = function(){
  algorithm("Rw' (R U) (R U R' U' Rw) x (R2' U) (R U')");
}

alg20 = function(){
  algorithm("Rw' (R U) (R U R' U' Rw2) (R2' U) (R U') Rw'");
}

alg21 = function(){
  algorithm("(R U2) (R' U' R U R' U' R U' R')");
}

alg22 = function(){
  algorithm("(R U2') (R2' U') (R2 U') (R2' U2' R)");
}

alg23 = function(){
  algorithm("(R2' D) (R' U2) (R D') (R' U2 R')");
}

alg24 = function(){
  algorithm("(Lw' U') (L U) (R U') (Rw' F)");
}

alg25 = function(){
  algorithm("(R' F) (R B') (R' F') (R B)");
}

alg26 = function(){
  algorithm("(R U2) (R' U' R U' R')");
}

alg27 = function(){
  algorithm("(R U R' U) (R U2 R')");
}

alg28 = function(){
  algorithm("(M' U M) U2 (M' U M)");
}

alg29 = function(){
  algorithm("(L2 U' L B) (L' U) (L2 U') (Rw' U' Rw))");
}

alg30 = function(){
  algorithm("(R2' U R' B') (R U') (R2' U) (Lw U Lw')");
}

alg31 = function(){
  algorithm("(R' U') F (U R U' R') F' R");
}

alg32 = function(){
  algorithm("(R Dw) (L' Dw') (R' U) (Lw U Lw')");
}

alg33 = function(){
  algorithm("(R U R' U') (R' F R F')");
}

alg34 = function(){
  algorithm("(R U R2' U') (R' F) (R U) (R U') F'");
}

alg35 = function(){
  algorithm("(R U2) (R2 F) (R F' R U2 R')");
}

alg36 = function(){
  algorithm("(L' U' L U') (L' U L U) (L F' L' F)");
}

alg37 = function(){
  algorithm("F (R U') (R' U' R U) (R' F')");
}

alg38 = function(){
  algorithm("(R U R' U) (R U' R' U') (R' F R F')");
}

alg39 = function(){
  algorithm("(L F') (L' U' L U) F U' L'");
}

alg40 = function(){
  algorithm("(R' F) (R U R' U') F' U R");
}

alg41 = function(){
  algorithm("(R U') (R' U2) (R U) y (R U') (R' U' F'))");
}

alg42 = function(){
  algorithm("(L' U) (L U2') (L' U') y' (L' U) (L U F))");
}

alg43 = function(){
  algorithm("Fw' (L' U' L U) Fw");
}

alg44 = function(){
  algorithm("Fw (R U R' U') Fw'");
}

alg45 = function(){
  algorithm("F (R U R' U') F'");
}

alg46 = function(){
  algorithm("(R' U') (R' F R F') (U R)");
}

alg47 = function(){
  algorithm("F' (L' U' L U) (L' U' L U) F");
}

alg48 = function(){
  algorithm("F (R U R' U') (R U R' U') F'");
}

alg49 = function(){
  algorithm("(R' F R' F' R2) U2 y (R' F R F')");
}

alg50 = function(){
  algorithm("(R B' R B R2') U2 (F R' F' R))");
}

alg51 = function(){
  algorithm("Fw (R U R' U') (R U R' U') Fw'");
}

alg52 = function(){
  algorithm("(R U R' U R Dw') (R U' R' F')");
}

alg53 = function(){
  algorithm("(Rw' U') (R U') (R' U) (R U') (R' U2 Rw)");
}

alg54 = function(){
  algorithm("(Rw U) (R' U) (R U') (R' U) (R U2' Rw')");
}

alg55 = function(){
  algorithm("(R U2) (R2 U' R U' R' U2) (F R F')");
}

alg56 = function(){
  algorithm("Fw (R U R' U') Fw' F (R U R' U') (R U R' U') F'");
}

alg57 = function(){
  algorithm("(R U R' U') (M' U R U') Rw'");
}

//Method that checks if arrays are equal
arraysEqual = function(a1, a2){
    if(a1.length != a2.length){
		return false;
    }
	for(let x = 0; x < a1.length; x++){
		if(a1[x] != a2[x]){
			return false;
        }
    }
	return true;
}


/*
Rubiks Cube array of pieces:
0 1 2
3 _ 4
5 6 7

Orientation key for corners:
0 - facing up (on top side)
1 - facing forwards/backwards (on the front or back side)
2 - facing right/left (on the right or left side)

Orientation key for edges:
0 - facing up (on top side)
1 - facing away (not on top side)
*/

makePiecesArray = function(){
  let topLayer = grid[4];
  let topColor = grid[4][4];
  pieces = [];
  for(var x = 0; x < 8; x++){
    pieces.push(0);
  }

  //Corners, 0 2 5 7
  if(grid[2][2] == topColor){
    pieces[0] = 1;
  }
  else if(grid[3][0] == topColor){
    pieces[0] = 2;
  }

  if(grid[2][0] == topColor){
    pieces[2] = 1;
  }
  else if(grid[1][2] == topColor){
    pieces[2] = 2;
  }

  if(grid[0][0] == topColor){
    pieces[5] = 1;
  }
  else if(grid[3][2] == topColor){
    pieces[5] = 2;
  }

  if(grid[0][2] == topColor){
    pieces[7] = 1;
  }
  else if(grid[1][0] == topColor){
    pieces[7] = 2;
  }

  //Edges: 1 3 4 6
  if(grid[2][1] == topColor){
    pieces[1] = 1;
  }
  if(grid[3][1] == topColor){
    pieces[3] = 1;
  }
  if(grid[1][1] == topColor){
    pieces[4] = 1;
  }
  if(grid[0][1] == topColor){
    pieces[6] = 1;
  }

  return pieces;
}



find1LookOllCase = function(){
  let pieces = makePiecesArray();
  //Correct corners, edges flipped
  if(pieces[0] == 0 && pieces[2] == 0 && pieces[5] == 0 && pieces[7] == 0){
    if(pieces[1] == 1 && pieces[3] == 1 && pieces[4] == 0 && pieces[6] == 0){
      alg28();
      return true;
    }
    if(pieces[1] == 1 && pieces[3] == 0 && pieces[4] == 0 && pieces[6] == 1){
      alg57();
      return true;
    }
    if(pieces[1] == 1 && pieces[3] == 1 && pieces[4] == 1 && pieces[6] == 1){
      alg20();
      return true;
    }
  }
  //Edges correct, corners flipped
  else if(pieces[1] == 0 && pieces[3] == 0 && pieces[4] == 0 && pieces[6] == 0){
    if(pieces[0] == 0 && pieces[2] == 0 && pieces[5] == 1 && pieces[7] == 1){
      alg23();
      return true;
    }
    if(pieces[0] == 0 && pieces[2] == 1 && pieces[5] == 0 && pieces[7] == 1){
      alg24();
      return true;
    }
    if(pieces[0] == 0 && pieces[2] == 2 && pieces[5] == 1 && pieces[7] == 0){
      alg25();
      return true;
    }
    if(pieces[0] == 1 && pieces[2] == 2 && pieces[5] == 0 && pieces[7] == 1){
      alg27();
      return true;
    }
    if(pieces[0] == 2 && pieces[2] == 0 && pieces[5] == 1 && pieces[7] == 2){
      alg26();
      return true;
    }
    if(pieces[0] == 2 && pieces[2] == 1 && pieces[5] == 2 && pieces[7] == 1){
      alg22();
      return true;
    }
    if(pieces[0] == 1 && pieces[2] == 1 && pieces[5] == 1 && pieces[7] == 1){
      alg21();
      return true;
    }
  }
  //No edges flipped correctly
  if(pieces[1] == 1 && pieces[3] == 1 && pieces[4] == 1 && pieces[6] == 1){
    if(pieces[0] == 1 && pieces[2] == 2 && pieces[5] == 2 && pieces[7] == 0){
      alg3();
      return true;
    }
    if(pieces[0] == 2 && pieces[2] == 0 && pieces[5] == 1 && pieces[7] == 2){
      alg4();
      return true;
    }
    if(pieces[0] == 0 && pieces[2] == 1 && pieces[5] == 2 && pieces[7] == 0){
      alg17();
      return true;
    }
    if(pieces[0] == 0 && pieces[2] == 0 && pieces[5] == 2 && pieces[7] == 2){
      alg19();
      return true;
    }
    if(pieces[0] == 1 && pieces[2] == 1 && pieces[5] == 0 && pieces[7] == 0){
      alg18();
      return true;
    }
    if(pieces[0] == 2 && pieces[2] == 1 && pieces[5] == 2 && pieces[7] == 1){
      alg2();
      return true;
    }
    if(pieces[0] == 2 && pieces[2] == 2 && pieces[5] == 2 && pieces[7] == 2){
      alg1();
      return true;
    }
  }
  //"T" shapes
  else if(pieces[2] == 0 && pieces[3] == 0 && pieces[4] == 0 && pieces[7] == 0){
    if(pieces[0] == 1 && pieces[1] == 1 && pieces[5] == 1 && pieces[6] == 1){
      alg33();
      return true;
    }
    if(pieces[0] == 2 && pieces[1] == 1 && pieces[5] == 2 && pieces[6] == 1){
      alg45();
      return true;
    }
  }
  //"P" shapes
  if(arraysEqual(pieces,[2, 1, 0, 1, 0, 2, 0, 0])){
    alg44();
    return true;
  }
  if(arraysEqual(pieces,[0, 1, 2, 0, 1, 0, 0, 2])){
    alg43();
    return true;
  }
  if(arraysEqual(pieces,[1, 1, 0, 1, 0, 1, 0, 0])){
    alg32();
    return true;
  }
  if(arraysEqual(pieces,[1, 0, 0, 1, 0, 1, 1, 0])){
    alg31();
    return true;
  }
  //"W" shapes
  if(arraysEqual(pieces,[1, 0, 0, 0, 1, 0, 1, 2])){
    alg38();
    return true;
  }
  if(arraysEqual(pieces,[0, 0, 1, 1, 0, 2, 1, 0])){
    alg36();
    return true;
  }
  //"L" shapes
  if(arraysEqual(pieces,[2, 0, 2, 1, 0, 2, 1, 2])){
    alg54();
    return true;
  }
  if(arraysEqual(pieces,[2, 1, 2, 1, 0, 2, 0, 2])){
    alg53();
    return true;
  }
  if(arraysEqual(pieces,[2, 1, 1, 1, 0, 2, 0, 1])){
    alg50();
    return true;
  }
  if(arraysEqual(pieces,[2, 0, 1, 1, 0, 2, 1, 1])){
    alg49();
    return true;
  }
  if(arraysEqual(pieces,[2, 0, 1, 0, 1, 2, 1, 1])){
    alg48();
    return true;
  }
  if(arraysEqual(pieces,[1, 0, 2, 1, 0, 1, 1, 2])){
    alg47();
    return true;
  }
  //Big lightning bolts
  if(arraysEqual(pieces,[1, 1, 0, 0, 0, 0, 1, 2])){
    alg39();
    return true;
  }
  if(arraysEqual(pieces,[0, 1, 1, 0, 0, 2, 1, 0])){
    alg40();
    return true;
  }
  //"C" shapes
  if(arraysEqual(pieces,[2, 1, 2, 0, 0, 0, 1, 0])){
    alg34();
    return true;
  }
  if(arraysEqual(pieces,[0, 0, 2, 1, 1, 0, 0, 2])){
    alg46();
    return true;
  }
  //Squares
  if(arraysEqual(pieces,[1, 1, 2, 1, 0, 2, 0, 0])){
    alg5();
    return true;
  }
  if(arraysEqual(pieces,[2, 0, 0, 1, 0, 1, 1, 2])){
    alg6();
    return true;
  }
  //Small Lightning Bolts
  if(arraysEqual(pieces,[1, 0, 2, 0, 1, 0, 1, 1])){
    alg7();
    return true;
  }
  if(arraysEqual(pieces,[2, 1, 1, 0, 1, 1, 0, 0])){
    alg12();
    return true;
  }
  if(arraysEqual(pieces,[0, 1, 1, 0, 1, 1, 0, 2])){
    alg8();
    return true;
  }
  if(arraysEqual(pieces,[1, 1, 2, 1, 0, 0, 0, 1])){
    alg11();
    return true;
  }
  //Fish shapes
  if(arraysEqual(pieces,[0, 0, 2, 0, 1, 1, 1, 0])){
    alg37();
    return true;
  }
  if(arraysEqual(pieces,[0, 1, 2, 1, 0, 1, 0, 0])){
    alg35();
    return true;
  }
  if(arraysEqual(pieces,[1, 1, 0, 0, 1, 2, 0, 1])){
    alg10();
    return true;
  }
  if(arraysEqual(pieces,[2, 0, 1, 0, 1, 1, 1, 0])){
    alg9();
    return true;
  }
  //"I" shapes
  if(arraysEqual(pieces,[2, 1, 1, 0, 0, 2, 1, 1])){
    alg51();
    return true;
  }
  if(arraysEqual(pieces,[1, 0, 2, 1, 1, 1, 0, 2])){
    alg52();
    return true;
  }
  if(arraysEqual(pieces,[1, 0, 1, 1, 1, 1, 0, 1])){
    alg56();
    return true;
  }
  if(arraysEqual(pieces,[2, 0, 2, 1, 1, 2, 0, 2])){
    alg55();
    return true;
  }
  //"Knight Move" shapes
  if(arraysEqual(pieces,[1, 1, 2, 0, 0, 0, 1, 1])){
    alg13();
    return true;
  }
  if(arraysEqual(pieces,[2, 1, 0, 0, 0, 1, 1, 2])){
    alg16();
    return true;
  }
  if(arraysEqual(pieces,[2, 1, 1, 0, 0, 1, 1, 0])){
    alg14();
    return true;
  }
  if(arraysEqual(pieces,[0, 1, 2, 0, 0, 2, 1, 1])){
    alg15();
    return true;
  }
  //The "Awkward" shapes
  if(arraysEqual(pieces,[0, 1, 0, 1, 0, 1, 0, 1])){
    alg41();
    return true;
  }
  if(arraysEqual(pieces,[0, 1, 0, 1, 0, 2, 0, 2])){
    alg30();
    return true;
  }
  if(arraysEqual(pieces,[0, 1, 0, 0, 1, 1, 0, 1])){
    alg42();
    return true;
  }
  if(arraysEqual(pieces,[0, 1, 0, 0, 1, 2, 0, 2])){
    alg29();
    return true;
  }

return false;
}

reorient = function(topColor){
  for(let i = 0; i < 4; i++){
    if(grid[4][4] == topColor){
      return;
    }
    turnCubeUp();
  }
  for(let i = 0; i < 4; i++){
    if(grid[4][4] == topColor){
      return;
    }
    turnCubeClockwise();
  }
}

solveOll = function(){
  let topNum = grid[4][4];
  if(grid[4][0] != topNum || grid[4][1] || grid[4][2] != topNum || grid[4][3] || grid[4][5] || grid[4][6] != topNum || grid[4][8] || grid[4][8] != topNum){
    outer: for(let i = 0; i < 4; i++){
      let found = find1LookOllCase();
      if(found){
        break outer;
      }
      turnCubeRight();
    }
  }
  reorient(topNum);
}
